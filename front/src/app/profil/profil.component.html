<h1>Mon profil</h1>

<form [formGroup]="formProfil" (ngSubmit)="modifie()">
  <div class="form-group">
    <label for="nom">Nom :</label>
    <input id="nom" type="text" formControlName="nom" class="form-control">
    <div *ngIf="nom.errors?.minlength" class="alert alert-danger">
      Le nom doit avoir une longueur d'au moins 3 caractères.
    </div>
  </div>

  <div class="form-group">
    <!-- TODO: changer mon identifiant -->
    <label for="identifiant">Identifiant :</label>
    <input id="identifiant" type="text" readonly formControlName="identifiant" class="form-control">
  </div>

  <div class="form-row">
    <div class="form-group col-md-6">
      <label for="mdp">Nouveau mot de passe :</label>
      <input id="mdp" type="password" formControlName="mdp" autocomplete="off" class="form-control">
      <div *ngIf="mdp.errors?.minlength" class="alert alert-danger">
        Le nouveau mot de passe doit avoir une longueur d'au moins 8 caractères.
      </div>
    </div>
    <div class="form-group col-md-6">
      <label for="confirmeMdp">Confirmer le nouveau mot de passe :</label>
      <input id="confirmeMdp" type="password" formControlName="confirmeMdp" autocomplete="off" class="form-control">
      <div *ngIf="formProfil.errors?.sameValueIfDefined" class="alert alert-danger">
        Les 2 mots de passe doivent être identiques.
      </div>
    </div>
  </div>

  <div>
    <button class="btn btn-primary" type="submit" [disabled]="!formProfil.valid">Modifier</button>
  </div>
</form>

<div *ngIf="enregistre" class="alert alert-success">Votre profil a été enregistré.</div>
<div *ngIf="erreurModification" class="alert alert-danger">{{erreurModification}}</div>
