<h2>Mon profil</h2>

<form [formGroup]="formProfil" (ngSubmit)="modifie()">
  <div *ngIf="enregistre" class="alert alert-success">Votre profil a été enregistré.</div>
  <div *ngIf="erreurModification" class="alert alert-danger">{{erreurModification}}</div>

  <!-- TODO: changer mon identifiant -->
  <p>
    <label>
      Nom :
      <input type="text" formControlName="nom">
    </label>
  </p>
  <div *ngIf="nom.errors?.minlength" class="alert alert-danger">
    Le nom doit avoir une longueur d'au moins 3 caractères.
  </div>

  <p>
    <label>
      Nouveau mot de passe :
      <input type="password" formControlName="mdp" autocomplete="off">
    </label>
  </p>
  <div *ngIf="mdp.errors?.minlength" class="alert alert-danger">
    Le nouveau mot de passe doit avoir une longueur d'au moins 8 caractères.
  </div>
  <p>
    <label>
      Confirmer le nouveau mot de passe :
      <input type="password" formControlName="confirmeMdp" autocomplete="off">
    </label>
  </p>
  <div *ngIf="formProfil.errors?.sameValueIfDefined" class="alert alert-danger">
    Les 2 mots de passe doivent être identiques.
  </div>

  <div>
    <button class="button" type="submit" [disabled]="!formProfil.valid">Modifier</button>
  </div>
</form>
